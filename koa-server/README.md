
后端的路由就是前端的接口地址

前端axios.get('/').then(res => {}) 中的res实际上是ctx.body的内容

ctx.body


/

管理系统
/manage


前台页面
/ web


body-parse 用于获得 ctx.request.body   => 返回请求体（返回给前端的数据）



【注册逻辑】 - 用户和密码接收后：
- 校验username 和 password （请求体携带参数的字段名是否正确）
    - 字段正常，下一步
    - 字段有错，返回消息（用户名、密码错误）

- 查询数据库是否有username
    - 已经存在该用户，则返回消息（请勿重复注册）
    - 不存在该用户，下一步

- 赋予用户名 密码 默认头像
    - 默认头像生成
    - 返回注册成功给前端



【规范返回信息结构】
{
    errCode: 0,
    msg: '注册成功',
    data: {}
}


【登录逻辑】 - 用户和密码接收后：
- 校验username 和 password （请求体携带参数的字段名是否正确）
    - 字段正常，下一步
    - 字段有错，返回消息（用户名、密码错误）

- 查询数据库中有没有这个username
    - 已经存在该用户，下一步
    - 不存在该用户，返回消息（请先注册）

- 把生成的token 存入user表，并查询对应用户的相关信息返回给前端


【获取用户信息】
- 1. 前端传送token
    鉴权（鉴别token） （除了登录注册外，所有接口都要鉴权）
        - token 生效，进行步骤2
        - token 没生效， 即 token过期（1h）或 没这个用户， 则 让前端提醒用户重新登录
- 2. 从数据库检索该用户的所有信息
    根据token从数据库中读取用户，并返回对应的信息给前端







